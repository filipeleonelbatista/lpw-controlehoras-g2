{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block page_content %}
<div class="panel panel-default"> 
    <div class="panel-heading">Lista de funcionarios</div> 
    <table class="table"> 
            <thead> 
                <tr> 
                    <th>#</th> 
                    <th>Matricula</th> 
                    <th>Nome</th> 
                    <th>Admin?</th> 
                    <th>Actions</th> 
                </tr> 
            </thead> 
            <tbody> 
                {% for item in listTable %}
                <tr>                     
                    <th scope="row">{{ loop.index }}</th> 
                    <td>{{ item.matricula }}</td> 
                    <td>{{ item.username }}</td> 
                    <td>{{ item.admin }}</td> 
                    <td>
                         
                        <button onclick="document.getElementById('editProj').style.display='block'" class="btn btn-default">
                            <a href="#"><span class="glyphicon glyphicon-pencil" style="color:green" aria-hidden="true">
                            </span></a>
                        </button> 
                        <form action = "{{ request.path }}" method = "post">
                            <div id="editProj" class="modal">
                              <div class="modal-content">
                                <div class="container">
                                  <div class="col-xs-10">

                                        <p>Falta implementar<br>
                                        precisa receber os campos e editar.</p>
                                        <h4> </h4>
                                        {{ form.cancelar(class_="btn btn-danger") }}
                                  </div>              
                                </div>
                              </div>
                            </div>
                        </form>  
                        <form action="funcionarios">
                        <button class="btn btn-default" type="submit" name="delete" value={{ item.matricula }}>
                            <a href="#"><span class="glyphicon glyphicon-trash" style="color:red" aria-hidden="true">
                        </span></a>
                        </button>
                        </form>
                    </td>                     
                </tr> 
                {% endfor %}
            </tbody> 
        </table> 
</div>
<div class="container">                
        <button onclick="document.getElementById('cadProj').style.display='block'" class="btn btn-success">Cadastrar funcionario</button>
      <form action = "{{ request.path }}" method = "post">
            <div id="cadProj" class="modal">
              <div class="modal-content">
                <div class="container">
                  <div class="col-xs-10">
                    <h4>Nome do Funcionário </h4>
                    {{ form.nome(class_="form-control") }}
                    <h4>Matricula </h4>
                    {{ form.matricula(class_="form-control") }}
                    <h4>Senha </h4>
                    {{ form.password(class_="form-control") }}
                    <h4> </h4> 
                    {{ form.admin }}
                    é Admimnistrador?
                    <h4> </h4>
                    {{ form.salvar(class_="btn btn-success") }}
                    {{ form.cancelar(class_="btn btn-danger") }}
                  </div>              
                </div>
              </div>
            </div>
        </form>
      </div>
{% endblock %}